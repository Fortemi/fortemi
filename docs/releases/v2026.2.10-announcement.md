# v2026.2.10 Release Announcement

**Release Date:** 2026-02-19

Fortemi v2026.2.10 delivers a **Graph Quality Overhaul**, a comprehensive **SSE Event System**, and a hardened **Extraction Pipeline** — 86 commits, 206 files changed, 64 issues closed (#422–#485).

## Highlights

| Feature | Description |
|---------|-------------|
| **Graph Quality Pipeline** | Automated normalize → SNN → PFNET → diagnostics via single API call |
| **Louvain Community Detection** | Topically cohesive note clusters with SKOS-derived labels |
| **SNN + PFNET Analysis** | Structural similarity scoring and topology-preserving edge pruning |
| **SSE Event System** | 46 event types, versioned envelope, replay, auth-scoped filtering, backpressure |
| **Tiered Job Architecture** | CPU_NER → FAST_GPU → STANDARD_GPU with queue-based escalation |
| **GLiNER NER Sidecar** | Zero-shot NER at <300ms/doc, CPU-only, enabled by default |
| **Embedding Composition** | Configurable fields per embedding set (title, content, concepts, tags) |
| **Versioned Graph API** | v1 payload contract with community hints and guardrails |
| **Pause/Resume Jobs** | Global and per-archive job control, persisted across restarts |
| **Multi-Provider Inference** | Provider-qualified model slugs with discovery endpoint |
| **12 New ADRs** | Architecture decisions for graph, embeddings, jobs, inference, branding |

## Graph Quality Overhaul

The headline theme of this release. The knowledge graph previously suffered from the "seashell pattern" — noisy, dense clusters that obscured meaningful structure.

### What's New

- **Louvain Community Detection** (#473) — Partitions the graph into topically cohesive communities. Labels derived from SKOS concept terms for human-readable groupings.
- **SNN Similarity Scoring** (#474) — Shared Nearest Neighbor scoring identifies strongly connected clusters based on neighborhood overlap rather than raw embedding distance.
- **PFNET Sparsification** (#476) — Pathfinder Network algorithm prunes redundant edges while retaining the shortest-path skeleton.
- **MRL 64-dim Coarse Communities** (#477) — Fast community detection using Matryoshka 64-dim embeddings for low-cost topic groupings.
- **RNG Linking** (#478) — Relative Neighborhood Graph for local edge sparsification.
- **Automated Maintenance Pipeline** (#482) — `POST /api/v1/graph/maintenance` runs `normalize → SNN → PFNET → diagnostics snapshot` in a single call. Auto-triggers after note ingest.
- **Embedding Quality Diagnostics** (#483, #484) — Point-in-time quality metrics with snapshot comparison for drift detection.
- **Edge Community Filter** (#480) — Filter edges by community membership (intra/inter-community).

### New Endpoints

7 new graph API endpoints for maintenance, diagnostics, community inspection, SNN scoring, PFNET sparsification, coarse community detection, and edge filtering. 2 new MCP core tools (`trigger_graph_maintenance`, `coarse_community_detection`) bring the core surface to 37 tools.

## SSE Event System

Complete overhaul of the Server-Sent Events infrastructure (#450–#465):

- **Versioned envelope schema** with event type, entity ID, memory scope, and timestamp
- **Memory-scoped auth routing** — events scoped to the authenticated memory context
- **Server-side filtering** — subscribe to specific event types and entities
- **Last-Event-ID replay** — reconnecting clients replay missed events
- **Backpressure and coalescing** — rate limiting and event deduplication under load
- **Health metrics and alerts** — SSE connection monitoring
- **46 event types** covering notes, attachments, collections, archives, jobs, SKOS concepts, tags, search/index, and system events
- **AsyncAPI 3.0 spec** auto-generated at `/api/v1/asyncapi`

## Extraction Pipeline

### Tiered Job Architecture (#436–#449)

Three-tier compute model replacing inline model fallbacks:

| Tier | Backend | Use Case |
|------|---------|----------|
| 0 — CPU_NER | GLiNER (0.5B BERT) | Zero-shot entity recognition, <300ms/doc |
| 1 — FAST_GPU | qwen3:8b | Concept tagging, reference extraction, title generation |
| 2 — STANDARD_GPU | gpt-oss:20b | Complex extraction failover |

Queue-based escalation: each job runs exactly one model; failures enqueue at the next tier. Parallel subtask execution (#441) improves throughput. Warmup timeouts (#447) and deduplication fixes (#446) harden reliability.

### Configurable Embedding Composition (#485)

Choose which fields compose embedding text per embedding set: title, content, concepts, tags. Changes automatically trigger re-embedding. MCP `manage_embeddings` extended with `document_composition` action.

### Additional Extraction Features

- **Fast-first chunked extraction** (#439) — Large documents split into context-window chunks processed in parallel
- **Related concept inference** (#435) — `skos:related` relationships inferred between extracted concepts
- **Metadata extraction** (#430) — Structured metadata (authors, year, venue, DOI) and document type classification
- **Constrained JSON decoding** (#438) — Structured output via Ollama's constrained generation
- **Multi-provider inference routing** (#431) — Provider-qualified slugs (`ollama:qwen3:8b`, `openai:gpt-4o`) with discovery endpoint

## Other Changes

### Added

- **Pause/Resume Job Processing** (#466) — Global and per-archive control via `POST /api/v1/jobs/pause` and `/resume`. State persisted in `system_config` table across container restarts.
- **SKOS Concepts in NoteFull** — API responses include SKOS concept tags on note detail endpoints.
- **Hierarchical SKOS Auto-Tagging** (#425) — Uses broader/narrower relationships for richer taxonomy.
- **SKOS Concept Scheme Management** — MCP `manage_concepts` tool extended with scheme CRUD.
- **Versioned Graph API Contract** (#467–#469) — v1 response format with community hints, neighborhood explainability, and server-side guardrails.

### Changed

- Embedding enrichment instruction prefix changed to `clustering:` for better community detection (#472).
- Embedding content separated from record metadata (#479).
- TF-IDF concept filtering excludes high-frequency "stopword" concepts (#475).
- Edge weight normalization with configurable gamma (#470).
- GraphConfig extended with 10+ new tuning parameters.
- MCP core tools expanded from 27 to 37.
- Default concept target lowered from 15 to 5 per note.
- Pipeline reorder: embedding runs after concept tagging (#424).
- GLiNER extracted to sidecar for simpler upgrades.
- Inference switched from `/api/generate` to `/api/chat`.
- Mutual k-NN filter (#471) deferred as no-op (bidirectional edges already enforced).

### Fixed

- LLM returning object instead of array in JSON parsing.
- SKOS breadth limit counts only promoted concepts; raised from 50 to 200.
- WebSocket endpoint routing at `/api/v1/ws` (#423).
- Multi-memory schema context in extraction pipeline (#426).
- MCP StreamableHTTP JSON responses (#422).
- Default concept scheme seeding in new archives.
- Chunked extraction resilience to partial failures.
- 20B model escalation prevented when GLiNER produces enough concepts.
- Three graph bugs causing stuck jobs and empty output (#485).
- Tiered job escalation timing (#444, #445), deduplication (#446), warmup timeout (#447).
- Clippy warnings for Rust 1.92.

## Documentation

- 12 new Architecture Decision Records (ADR-072 through ADR-083)
- Comprehensive graph quality pipeline documentation
- SSE event catalog and migration guide rewritten
- Tagging and inference docs updated
- fortemi-docs shard rebuilt from current sources

## Database Migrations

| Migration | Purpose |
|-----------|---------|
| `20260218200000_add_system_config.sql` | System config table for job pause/resume state |
| `20260218300000_graph_diagnostics_history.sql` | Graph diagnostics snapshot history |
| `20260218400000_add_graph_maintenance_job_type.sql` | GraphMaintenance job type |
| `20260218500000_add_document_composition.sql` | Document composition per embedding set |

## Upgrade Notes

1. **Database migrations run automatically** on startup via `sqlx::migrate!()`
2. **GLiNER sidecar** is now the default NER backend. Set `GLINER_BASE_URL=` (empty) to disable.
3. **Graph maintenance** auto-triggers after ingest. No manual intervention needed for fresh graphs.
4. **Embedding composition** defaults preserve existing behavior (title + content). Opt-in to include concepts/tags.
5. **SSE clients** should update to use the versioned envelope schema. Old event format is superseded.
6. **MCP clients** gain 10 new core tools (37 total). Existing tool names unchanged.

## Full Changelog

See [CHANGELOG.md](../../CHANGELOG.md) for complete details.
